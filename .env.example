# Project Icarus Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# API Keys (Required)
# =============================================================================

# Anthropic Claude API Key (Required)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenAI API Key (Optional - for using GPT models)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://gamemaster:securepassword@database:5432/cyberrange

# PostgreSQL password (must match DATABASE_URL)
POSTGRES_USER=gamemaster
POSTGRES_PASSWORD=securepassword
POSTGRES_DB=cyberrange

# =============================================================================
# AI Model Configuration
# =============================================================================

# Red Team AI Model
# Options: claude-sonnet-4.5, claude-opus-4, gpt-4, gpt-4-turbo
RED_TEAM_MODEL=claude-sonnet-4.5

# Blue Team AI Model
# Options: claude-sonnet-4.5, claude-opus-4, gpt-4, gpt-4-turbo
BLUE_TEAM_MODEL=claude-sonnet-4.5

# =============================================================================
# Game Configuration
# =============================================================================

# Maximum number of rounds per game
MAX_ROUNDS=30

# Command execution timeout (seconds)
COMMAND_TIMEOUT=30

# Delay between AI API calls to respect rate limits (seconds)
RATE_LIMIT_DELAY=1

# Enable debug mode (verbose logging)
DEBUG_MODE=false

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (relative to orchestrator container)
LOG_FILE=/app/logs/orchestrator.log

# Enable console logging
CONSOLE_LOGGING=true

# =============================================================================
# Container Network Configuration
# =============================================================================

# CTF Network subnet (isolated network for red/blue teams)
CTF_NETWORK_SUBNET=172.20.0.0/24

# Red team container IP
RED_TEAM_IP=172.20.0.5

# Blue team container IP
BLUE_TEAM_IP=172.20.0.10

# =============================================================================
# Dashboard Configuration (Optional)
# =============================================================================

# Enable web dashboard
DASHBOARD_ENABLED=true

# Dashboard port
DASHBOARD_PORT=3000

# Dashboard admin credentials (CHANGE THESE!)
DASHBOARD_ADMIN_USER=admin
DASHBOARD_ADMIN_PASSWORD=changeme

# =============================================================================
# Security Settings
# =============================================================================

# Enable command validation (recommended: true)
ENABLE_COMMAND_VALIDATION=true

# Enable container isolation (recommended: true)
ENABLE_CONTAINER_ISOLATION=true

# Maximum command output size (bytes)
MAX_OUTPUT_SIZE=1000000

# =============================================================================
# Performance Settings
# =============================================================================

# Enable AI response caching
ENABLE_AI_CACHE=false

# Database connection pool size
DB_POOL_SIZE=5

# Maximum concurrent games (future feature)
MAX_CONCURRENT_GAMES=1

# =============================================================================
# Development Settings (Development Only)
# =============================================================================

# Enable mock AI responses (for testing without API keys)
MOCK_AI_RESPONSES=false

# Skip container health checks
SKIP_HEALTH_CHECKS=false

# Enable database query logging
LOG_SQL_QUERIES=false

# =============================================================================
# Advanced Settings (Do not modify unless you know what you're doing)
# =============================================================================

# Docker socket path
DOCKER_SOCKET=/var/run/docker.sock

# Container restart policy
CONTAINER_RESTART_POLICY=unless-stopped

# Enable Prometheus metrics export
ENABLE_METRICS=false
METRICS_PORT=9090
